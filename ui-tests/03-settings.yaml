appId: com.ofekyariv.quicktip
---
# 03 - Settings: Change Currency, Theme, Verify Persistence
# Open settings, change currency to EUR, change theme to Dark, go back, reopen to verify.

- launchApp

- assertVisible: "QuickTip"

# Open settings via icon button
- tapOn:
    id: "settings_button"

# Verify settings screen sections
- assertVisible: "Calculator Defaults"
- assertVisible: "Appearance"
- assertVisible: "Premium"
- assertVisible: "About"

# Change currency to EUR
- tapOn:
    text: "Default Currency"
- tapOn:
    text: "EUR"

# Change theme to Dark
- tapOn:
    text: "Dark"

# Take screenshot of settings
- takeScreenshot: 03-settings-configured

# Go back to main screen
- tapOn:
    text: "Back"

# Verify we're back on main screen
- assertVisible: "Bill Amount"

# Reopen settings to verify persistence
- tapOn:
    id: "settings_button"

# Verify EUR is still selected
- assertVisible:
    text: ".*EUR.*"

# Verify Dark theme is selected
- assertVisible: "Dark"

- takeScreenshot: 03-settings-persisted
